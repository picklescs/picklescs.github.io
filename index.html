<!DOCTYPE html>
<html>
<head>
<title>Pickle's Server</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body {
    margin:0;
    font-family:Arial, sans-serif;
    background: radial-gradient(circle at center, #0f0f0f 0%, #000 100%);
    color:white;
    text-align:center;
}

h1 {
    margin-top:80px;
    font-size:50px;
    color:#00ff88;
    text-shadow:0 0 10px #00ff88;
    animation:pulse 2s infinite;
}

@keyframes pulse {
    0% { text-shadow:0 0 10px #00ff88; }
    50% { text-shadow:0 0 25px #00ff88; }
    100% { text-shadow:0 0 10px #00ff88; }
}

.box {
    background:rgba(255,255,255,0.05);
    padding:30px;
    margin:30px auto;
    width:80%;
    max-width:500px;
    border-radius:12px;
}

.button {
    display:inline-block;
    padding:15px 30px;
    margin:10px;
    background:#00ff88;
    color:black;
    font-weight:bold;
    border-radius:6px;
    cursor:pointer;
    transition:0.3s;
}

.button:hover {
    transform:scale(1.05);
}

.status-online { color:#00ff88; }
.status-offline { color:red; }

.small {
    font-size:14px;
    opacity:0.7;
}
</style>
</head>
<body>

<h1>PICKLE'S SERVER</h1>

<div class="box">
    <h2>Server Status</h2>
    <p id="status">Checking...</p>
    <p id="players" class="small"></p>
</div>

<div class="box">
    <h2>Join Us</h2>
    <div class="button" onclick="copyIP()" id="copyBtn">
        COPY CONNECT COMMAND
    </div>
    <p id="copied" class="small" style="display:none;color:#00ff88;">Copied!</p>
</div>

<div class="box">
    <h2>Commands</h2>
    <p>!ws – Skins</p>
    <p>!knife – Knives</p>
    <p>!gloves – Gloves</p>
</div>

<div class="box">
    <h2>Discord</h2>
    <a class="button" href="https://discord.gg/YOURINVITE">JOIN DISCORD</a>
</div>

<script>
const serverIP = "168.100.161.99:2462";

function copyIP() {
    const text = "connect " + serverIP;
    navigator.clipboard.writeText(text);
    const btn = document.getElementById("copyBtn");
    btn.innerText = "COPIED!";
    btn.style.background = "white";
    setTimeout(() => {
        btn.innerText = "COPY CONNECT COMMAND";
        btn.style.background = "#00ff88";
    }, 2000);
}

// Real CS:GO server status API
fetch("https://api.gamemonitoring.net/servers/168.100.161.99:2462")
.then(res => res.json())
.then(data => {
    if(data.status === "online") {
        document.getElementById("status").innerHTML =
            "<span class='status-online'>ONLINE</span>";
        document.getElementById("players").innerText =
            "Players: " + data.players + "/" + data.maxplayers;
    } else {
        document.getElementById("status").innerHTML =
            "<span class='status-offline'>OFFLINE</span>";
    }
})
.catch(() => {
    document.getElementById("status").innerHTML =
        "<span class='status-offline'>OFFLINE</span>";
});
</script>
<script>
const ip = "168.100.161.99";
const portsToTry = [2463]; // sometimes query port = game port + 1

async function checkServer() {
  for (const port of portsToTry) {
    try {
      const url = `https://gamedig-api.hexane.co/csgo/ip=${ip}&port=${port}`;
      const res = await fetch(url);
      const data = await res.json();

      if (data && data.online) {
        document.getElementById("status").innerHTML =
          "<span class='status-online'>ONLINE</span>";
        document.getElementById("players").innerText =
          `Players: ${data.players.length}/${data.maxplayers}` + (data.map ? ` | Map: ${data.map}` : "");
        return;
      }
    } catch (e) {}
  }

  document.getElementById("status").innerHTML =
    "<span class='status-offline'>OFFLINE</span>";
  document.getElementById("players").innerText =
    "If you’re sure it’s online, your query port may be blocked.";
}

checkServer();
</script>
</body>
</html>
